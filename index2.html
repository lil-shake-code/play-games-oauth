<html>
  <body>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <div
      id="g_id_onload"
      data-client_id="229284782094-bvhbg9to2bofhd69u8v18lvon8ou4tqj.apps.googleusercontent.com"
      data-callback="handleCredentialResponse"
    ></div>
    <div class="g_id_signin" data-type="standard"></div>
    <script>
      function handleCredentialResponse(response) {
        // console.log("handleCredentialResponse", response);
        // Get the access token and make the API request
        var user = auth2.currentUser.get();
        var accessToken = user.getAuthResponse().access_token;
        console.log("accessToken", accessToken);
        //get player details from play games api
        var xhr = new XMLHttpRequest();
        xhr.open(
          "GET",
          "https://www.googleapis.com/games/v1/players/me?access_token=" +
            accessToken
        );
      }
    </script>
  </body>
</html>
